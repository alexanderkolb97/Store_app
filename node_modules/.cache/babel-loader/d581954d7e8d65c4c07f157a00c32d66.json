{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0421\\u0430\\u0448\\u0430\\\\Desktop\\\\ladies_react\\\\ladies\\\\src\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Context } from './App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Cart() {\n  _s();\n\n  const {\n    setCartNumber\n  } = useContext(Context);\n  const [cartState, setCartState] = useState(getCookie('data') ? true : false);\n  let items = JSON.parse(localStorage.getItem('data'));\n\n  function getCookie(data) {\n    let itemsIds = document.cookie.match(new RegExp(\"(?:^|; )\" + data.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"));\n    return itemsIds ? decodeURIComponent(itemsIds[1]) : undefined;\n  }\n\n  let itemsIds = getCookie('data').split(',');\n  let cartItems = [];\n  items.forEach(item => {\n    for (let i = 0; i < itemsIds.length; i++) {\n      if (item.id == itemsIds[i]) cartItems.push(item);\n    }\n  });\n\n  const removeItem = function (e) {\n    console.log(cartItems);\n    itemsIds = itemsIds.filter((item, index) => item != e.target.closest('li').id);\n    document.cookie = `data=${itemsIds.join()}`;\n    setCartNumber(getCookie('data').split(',').length);\n  };\n\n  const itemUp = e => {\n    let sum = 0;\n    sum = sum++;\n    let li = e.target.closest('li');\n    li.querySelector('.quantity_field').innerHTML = sum;\n  };\n\n  const itemDown = e => {\n    let sum = 0;\n    sum = sum--;\n    let li = e.target.closest('li');\n    li.querySelector('.quantity_field').innerHTML = sum;\n  };\n\n  const list = cartItems.map((item, index) => {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      id: item.id,\n      className: \"item\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: item.image,\n        className: \"cart_img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list_item_info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"info_title\",\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"info_category\",\n          children: item.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"info_price\",\n          children: [\"$\", item.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quantity\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quantity_field\",\n          children: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: itemUp,\n          className: \"plus\",\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: itemDown,\n          className: \"minus\",\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: removeItem,\n        className: \"item_remove\",\n        children: \"Remove from cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"cart_header\",\n      children: [\"Cart \", cartState ? 'products are displayed below' : 'is empty']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"items_list\",\n      children: list\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Cart, \"nWoLQ1HJFRlMJZZEJoBkZKYOaKE=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Users/Саша/Desktop/ladies_react/ladies/src/Cart.js"],"names":["React","useState","useEffect","useContext","Context","Cart","setCartNumber","cartState","setCartState","getCookie","items","JSON","parse","localStorage","getItem","data","itemsIds","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","split","cartItems","forEach","item","i","length","id","push","removeItem","e","console","log","filter","index","target","closest","join","itemUp","sum","li","querySelector","innerHTML","itemDown","list","map","image","title","category","price"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\r\nimport {Context} from './App';\r\n\r\nfunction Cart() {\r\n    const {setCartNumber} = useContext(Context);\r\n    const [cartState, setCartState] = useState(getCookie('data') ? true : false);\r\n\r\n    let items = JSON.parse(localStorage.getItem('data'));\r\n\r\n    function getCookie(data) {\r\n        let itemsIds = document.cookie.match(new RegExp(\r\n          \"(?:^|; )\" + data.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n        ));\r\n       \r\n        return itemsIds ? decodeURIComponent(itemsIds[1]) : undefined;\r\n    }\r\n\r\n    let itemsIds = getCookie('data').split(',');\r\n\r\n    let cartItems = [];\r\n\r\n    items.forEach(item => {\r\n        for(let i = 0; i < itemsIds.length; i++) {\r\n            if(item.id == itemsIds[i]) cartItems.push(item)\r\n        }\r\n    });\r\n\r\n    const removeItem = function(e) {\r\n        console.log(cartItems)\r\n        itemsIds = itemsIds.filter((item, index) => item != e.target.closest('li').id)\r\n        document.cookie = `data=${itemsIds.join()}`;\r\n        setCartNumber(getCookie('data').split(',').length);\r\n    }\r\n\r\n    \r\n\r\n    const itemUp = (e) => {\r\n        let sum = 0;\r\n        sum = sum++;\r\n        let li = e.target.closest('li');\r\n        li.querySelector('.quantity_field').innerHTML = sum;\r\n    }\r\n\r\n    const itemDown = (e) => {\r\n        let sum = 0;\r\n        sum = sum--;\r\n        let li = e.target.closest('li');\r\n        li.querySelector('.quantity_field').innerHTML = sum;\r\n    }\r\n\r\n    const list = cartItems.map((item, index) => {\r\n        return (\r\n            <li id={item.id} key={index} className=\"item\">\r\n                <img src={item.image} className=\"cart_img\"></img>\r\n                    <div className=\"list_item_info\">\r\n                        <p className=\"info_title\">{item.title}</p>\r\n                        <p className=\"info_category\">{item.category}</p>\r\n                        <p className=\"info_price\">${item.price}</p>\r\n                    </div>\r\n                    <div className=\"quantity\">\r\n                        <div className=\"quantity_field\">1</div>\r\n                        <button onClick={itemUp} className=\"plus\">+</button>\r\n                        <button onClick={itemDown} className=\"minus\">-</button>\r\n                    </div>\r\n                    <button onClick={removeItem} className=\"item_remove\">Remove from cart</button>\r\n            </li>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className=\"cart\">\r\n            <h1 className=\"cart_header\">Cart {cartState ? 'products are displayed below' : 'is empty'}</h1>\r\n            <ul className=\"items_list\">\r\n                {list}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart;\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}